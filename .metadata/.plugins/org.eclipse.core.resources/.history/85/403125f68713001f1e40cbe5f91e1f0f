package Datadriven.utility;

import java.io.File;
import java.io.IOException;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;

import org.openqa.selenium.OutputType;
import org.openqa.selenium.TakesScreenshot;
import org.openqa.selenium.WebDriver;
import org.apache.commons.io.FileUtils;

public class Utility {
	
	public static String subfolder;
	
	public static void getScreenshot(WebDriver driver) throws IOException {
		
		if(subfolder==null) {
			
			 LocalDateTime a = LocalDateTime.now();
			 DateTimeFormatter myFormatObj = DateTimeFormatter.ofPattern("ddMMyyyyHHmmss");
			 subfolder = a.format(myFormatObj);
			//System.out.println(subfolder.getClass().getSimpleName());//typeof subfolder--string
			}
		TakesScreenshot ts=(TakesScreenshot)driver;
		File f=ts.getScreenshotAs(OutputType.FILE); 
		FileUtils.copyFile(f,new File("./Screenshots/"+subfolder+"/"+"img"+".jpg"));
		
		
	}
	

}
